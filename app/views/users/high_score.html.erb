<!DOCTYPE html>
<html lang="en">
<head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your High Score Page</title>
  <style>


  .container {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
  }

  .left-column,
  .right-column {
    width: 48%;
    padding: 20px;
    border: 1px solid #ccc;
  }


</style>
</head>
<body>
<div class="container">
  <div class="left-column">
    <h2>Your Last Game's Score: <%= @user_score %></h2>
    <% if @user_last_game %>
      <div class="completed-message">
        <p>I completed Mapple in <%= @user_last_game.guess_count %> guesses with a score of <%= @user_last_game.score %></p>
        <button onclick="copyCompletedMessage()" class="MappleButton">Copy</button>
      </div>
      <!--<% if @country_image_url.present? %>
  <div class="image">
    <img src="<%= @country_image_url %>" alt="Country Image" style="max-width: 100%; width: 600px;">
  </div> -->
  <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img class="d-block w-100" src="<%= @country_image_url %>" alt="Country Image">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="<%= @country_image_url_one %>" alt="Country Image">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="<%= @country_image_url_two %>" alt="Country Image">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="<%= @country_image_url_three %>" alt="Country Image">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="<%= @country_image_url_four %>" alt="Country Image">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="<%= @country_image_url_five %>" alt="Country Image">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="<%= @country_image_url_six %>" alt="Country Image">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="<%= @country_image_url_seven %>" alt="Country Image">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="<%= @country_image_url_eight %>" alt="Country Image">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="<%= @country_image_url_nine %>" alt="Country Image">
    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
<% end %>
    <% end %>
  </div>
<div class="right-column">
  <h2>Top Scores Today</h2>
<ol>
  <% @top_users.each_with_index do |user_score, index| %>
    <li> <%= user_score.username %>: <%= user_score.total_score %></li>
  <% end %>
</ol>





<script>
  function copyCompletedMessage() {
    const messageElement = document.querySelector('.completed-message');
    const messageText = messageElement.textContent;
    const textArea = document.createElement('textarea');
    textArea.value = messageText;
    document.body.appendChild(textArea);
    textArea.select();
    document.execCommand('copy');
    document.body.removeChild(textArea);
    alert('Message copied to clipboard: ' + messageText);
  }
</script>
</body>
</html>
